<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Career Path Exploration - VCC</title>
    <link rel="stylesheet" href="/static/style.css" />
    <script src="/static/navbar.js" defer></script>
  </head>
  <body class="homepage-body">
    <div class="homepage-bg-animation">
      <div class="bg-orb orb-1"></div>
      <div class="bg-orb orb-2"></div>
      <div class="bg-orb orb-3"></div>
      <div class="bg-orb orb-4"></div>
    </div>

    <header class="topbar enhanced-topbar">
      <div class="brand">
        <div class="logo-wrapper">
          <img src="/static/images/logo.svg" alt="logo" class="logo" />
        </div>
        <h1>Virtual Career Counselor</h1>
      </div>
      
      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="nav" id="mainNav">
        <a class="nav-link" href="/">ğŸ  Home</a>
        <a class="nav-link" href="/dashboard">ğŸ“Š Dashboard</a>
        
        <!-- Career Development Dropdown -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-toggle">ğŸš€ Career</button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/career-explore">ğŸ” Explore Careers</a>
            <a class="dropdown-item" href="/career-match">ğŸ¯ Career Match</a>
            <a class="dropdown-item" href="/learning-paths">ğŸ“š Learning Paths</a>
            <a class="dropdown-item" href="/analytics">ğŸ“Š Career Analytics</a>
          </div>
        </div>

        <!-- Learning & Skills Dropdown -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-toggle">ğŸ“š Learning</button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/courses">ğŸ“– Courses</a>
            <a class="dropdown-item" href="/resume-builder">ğŸ“„ Resume Builder</a>
            <a class="dropdown-item" href="/interview-prep">ğŸ¤ Interview Prep</a>
            <a class="dropdown-item" href="/salary-negotiation">ğŸ’° Salary Negotiation</a>
          </div>
        </div>

        <!-- Jobs & Network Dropdown -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-toggle">ğŸ’¼ Jobs</button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/job-insights">ğŸ” Job Insights</a>
            <a class="dropdown-item" href="/saved-jobs">ğŸ”– Saved Jobs</a>
            <a class="dropdown-item" href="/company-insights">ğŸ¢ Companies</a>
            <a class="dropdown-item" href="/referrals">ğŸ¤ Referrals</a>
          </div>
        </div>

        <!-- Community Dropdown -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-toggle">ğŸ‘¥ Community</button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/mentors">ğŸ‘¨â€ğŸ« Mentors</a>
            <a class="dropdown-item" href="/forum">ğŸ’¬ Forum</a>
            <a class="dropdown-item" href="/connections">ğŸ¤ Connections</a>
            <a class="dropdown-item" href="/leaderboard">ğŸ† Leaderboard</a>
          </div>
        </div>

        <!-- Profile & Settings -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-toggle">ğŸ‘¤ Account</button>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/profile">ğŸ‘¤ Profile</a>
            <a class="dropdown-item" href="/settings">âš™ï¸ Settings</a>
            <a class="dropdown-item" href="/logout">ğŸšª Logout</a>
          </div>
        </div>
      </nav>
    </header>

    <div class="container homepage-container">
      <section class="card enhanced-card">
        <div class="section-header">
          <div class="section-icon">ğŸ”</div>
          <h2 class="section-title">Career Path Exploration</h2>
          <p class="section-subtitle">Discover comprehensive information about any career path</p>
        </div>

        <div class="career-search-wrapper">
          <div class="form-group-enhanced">
            <label class="form-label-enhanced">
              <span class="label-icon">ğŸ’¼</span>
              <span class="label-text">Enter Career/Profession Name</span>
            </label>
            <input id="careerInput" type="text" class="form-input-enhanced" placeholder="e.g., Software Engineer, Data Analyst, Teacher, Doctor" />
          </div>
          <button id="exploreBtn" class="generate-button-enhanced">
            <span class="button-icon">âœ¨</span>
            <span class="button-text">Explore Career Path</span>
            <span class="button-arrow">â†’</span>
          </button>
        </div>

        <div id="careerResults" class="career-results-container" style="display:none">
          <!-- Results will be populated here -->
        </div>
      </section>
    </div>

    <script>
      document.getElementById('exploreBtn').addEventListener('click', async () => {
        const career = document.getElementById('careerInput').value.trim();
        if (!career) {
          alert('Please enter a career name');
          return;
        }

        const btn = document.getElementById('exploreBtn');
        btn.disabled = true;
        btn.innerHTML = '<span class="button-icon">â³</span><span class="button-text">Exploring...</span>';

        try {
          const res = await fetch('/api/career-explore', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({career})
          });

          const data = await res.json();
          if (res.ok && data.career_data) {
            displayCareerData(data.career_data);
          } else {
            alert('Error: ' + (data.error || 'Failed to fetch career data'));
          }
        } catch (error) {
          alert('Error: ' + error.message);
        } finally {
          btn.disabled = false;
          btn.innerHTML = '<span class="button-icon">âœ¨</span><span class="button-text">Explore Career Path</span><span class="button-arrow">â†’</span>';
        }
      });

      function displayCareerData(data) {
        const container = document.getElementById('careerResults');
        container.style.display = 'block';
        
        container.innerHTML = `
          <div class="career-overview-section">
            <h3>ğŸ“‹ Career Overview</h3>
            <p class="career-overview-text">${data.overview || 'No overview available'}</p>
          </div>

          <div class="career-section">
            <h3>ğŸ› ï¸ Required Skills</h3>
            <div class="skills-grid">
              ${(data.required_skills || []).map(skill => `<div class="skill-badge">${skill}</div>`).join('')}
            </div>
          </div>

          <div class="career-section">
            <h3>ğŸ“š Recommended Courses</h3>
            <div class="courses-list">
              ${(data.recommended_courses || []).map(course => `
                <div class="course-card">
                  <div class="course-header">
                    <h4>${course.name || 'Course Name'}</h4>
                    <span class="course-platform">${course.platform || 'Platform'}</span>
                  </div>
                  <p class="course-description">${course.description || ''}</p>
                  <div class="course-meta">
                    <span class="course-duration">â±ï¸ ${course.duration || 'N/A'}</span>
                    <span class="course-level">ğŸ“Š ${course.level || 'N/A'}</span>
                    ${course.rating ? `<span class="course-rating">â­ ${course.rating}</span>` : ''}
                  </div>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="career-section">
            <h3>ğŸ† Certifications</h3>
            <div class="certifications-list">
              ${(data.certifications || []).map(cert => `
                <div class="cert-card">
                  <h4>${cert.name || 'Certification'}</h4>
                  <p class="cert-issuer">Issued by: ${cert.issuer || 'N/A'}</p>
                  <p class="cert-description">${cert.description || ''}</p>
                  <span class="cert-validity">Valid: ${cert.validity || 'N/A'}</span>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="career-section">
            <h3>ğŸ“ Required Exams</h3>
            <div class="exams-list">
              ${(data.exams || []).map(exam => `
                <div class="exam-card">
                  <h4>${exam.name || 'Exam Name'}</h4>
                  <p class="exam-description">${exam.description || ''}</p>
                  <div class="exam-meta">
                    <span>ğŸ“‹ Format: ${exam.format || 'N/A'}</span>
                    <span>â° Prep Time: ${exam.preparation_time || 'N/A'}</span>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="career-section">
            <h3>ğŸ’¼ Job Roles</h3>
            <div class="roles-list">
              ${(data.job_roles || []).map(role => `
                <div class="role-card">
                  <h4>${role.title || 'Job Title'}</h4>
                  <p class="role-description">${role.description || ''}</p>
                  <span class="role-level">Level: ${role.experience_level || 'N/A'}</span>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="career-section">
            <h3>ğŸ’° Salary Range</h3>
            <div class="salary-info">
              <div class="salary-item">
                <span class="salary-level">Entry Level:</span>
                <span class="salary-amount">${data.salary_range?.entry || 'N/A'}</span>
              </div>
              <div class="salary-item">
                <span class="salary-level">Mid Level:</span>
                <span class="salary-amount">${data.salary_range?.mid || 'N/A'}</span>
              </div>
              <div class="salary-item">
                <span class="salary-level">Senior Level:</span>
                <span class="salary-amount">${data.salary_range?.senior || 'N/A'}</span>
              </div>
            </div>
          </div>

          ${data.growth_outlook ? `
            <div class="career-section">
              <h3>ğŸ“ˆ Growth Outlook</h3>
              <p class="growth-text">${data.growth_outlook}</p>
            </div>
          ` : ''}
        `;

        container.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      // Allow Enter key to trigger search
      document.getElementById('careerInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          document.getElementById('exploreBtn').click();
        }
      });
    </script>
  </body>
</html>
